{
  "_comment": "This file shows the expected structure of .code-analysis/ folder",
  "_structure": {
    "description": "Expected folder structure after analysis",
    "folders": {
      "analysis/": "Contains codebase-analysis.json (this file format)",
      "domains/": {
        "description": "Each domain has its own subfolder",
        "example": "domains/user-authentication/",
        "files": {
          "documentation.md": "Generated markdown documentation",
          "documentation.meta.json": "Metadata about doc generation (taskId, timestamps, tokens, etc)",
          "requirements.json": "Requirements analysis",
          "requirements.meta.json": "Metadata about requirements generation",
          "testing.json": "Testing analysis",
          "testing.meta.json": "Metadata about testing generation"
        }
      },
      "logs/": "Task execution logs (task-id.log)",
      "tasks/": {
        "pending/": "Queued tasks",
        "completed/": "Finished tasks"
      }
    }
  },
  "taskId": "analyze-codebase-20260217-143000-a1b2c3",
  "logFile": "logs/analyze-codebase-20260217-143000-a1b2c3.log",
  "timestamp": "2026-02-17T14:30:00.000Z",
  "completedAt": "2026-02-17T14:35:42.567Z",
  "durationMs": 342567,
  "agent": "llm-api",
  "model": "claude-sonnet-4-20250514",
  "status": "completed",
  "summary": "Full-stack application managing aviation operations including user authentication, aircraft tracking, and payment processing. Recommend analyzing user-authentication domain first due to P0 priority and lack of test coverage.",
  "projectInfo": {
    "name": "aviation-platform",
    "path": "/full/path/to/project",
    "totalFiles": 247,
    "linesOfCode": 45823,
    "languages": ["JavaScript", "TypeScript", "CSS", "HTML"]
  },
  "tokenUsage": {
    "inputTokens": 89450,
    "outputTokens": 6720,
    "totalTokens": 96170
  },
  "domains": [
    {
      "id": "user-authentication",
      "name": "User Authentication",
      "businessPurpose": "Handles user signup, login, password reset, and session management",
      "files": [
        "backend/controllers/auth.js",
        "backend/models/user.js",
        "backend/routes/auth.js",
        "backend/middleware/authProtect.js"
      ],
      "priority": "P0",
      "testCoverage": "none",
      "hasAnalysis": true,
      "hasDocumentation": true,
      "hasRequirements": false,
      "hasTesting": false
    },
    {
      "id": "aircraft-management",
      "name": "Aircraft Management",
      "businessPurpose": "Aircraft registration, tracking, status updates, and certification management",
      "files": [
        "backend/controllers/aircrafts/aircrafts.js",
        "backend/models/aircrafts/aircraft.js",
        "backend/routers/aircrafts.js"
      ],
      "priority": "P1",
      "testCoverage": "partial",
      "hasAnalysis": false,
      "hasDocumentation": false,
      "hasRequirements": false,
      "hasTesting": false
    },
    {
      "id": "payment-processing",
      "name": "Payment Processing",
      "businessPurpose": "Handles transactions, refunds, payment methods via multiple gateways",
      "files": [
        "backend/controllers/payment.js",
        "backend/controllers/paymentGateway.js",
        "backend/models/payment.js",
        "backend/models/payment_method.js"
      ],
      "priority": "P0",
      "testCoverage": "none",
      "hasAnalysis": false,
      "hasDocumentation": false,
      "hasRequirements": false,
      "hasTesting": false
    }
  ]
}
